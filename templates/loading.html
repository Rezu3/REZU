<!-- templates/loading.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz with Rezu</title>
<style>
body { margin:0; height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center; background:#0f172a; color:#e5e7eb; font-family:Arial,sans-serif; }
h1 { color:#38bdf8; }
.spinner { width:45px; height:45px; border:5px solid #334155; border-top:5px solid #38bdf8; border-radius:50%; animation:spin 1s linear infinite; margin:20px 0;}
@keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
.percent { font-size:18px; font-weight:bold; color:#38bdf8; }
p { font-size:14px; color:#cbd5f5; }
</style>
</head>
<body>

<h1>Quiz with Rezu</h1>
<div class="spinner"></div>
<div class="percent" id="percent">0%</div>
<p>Preparing your quizâ€¦</p>

<script>
let percent = 0;
const percentEl = document.getElementById("percent");

// fake smooth loading
const interval = setInterval(()=>{ if(percent<90){percent++; percentEl.textContent = percent+"%";} },40);

// wake backend
fetch("/api/ping").finally(()=>{
  clearInterval(interval);
  percentEl.textContent="100%";
  setTimeout(()=>{ window.location.href="/index"; },600); // quiz page route
});
</script>

</body>
</html>
